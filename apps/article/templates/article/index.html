{% extends 'base.html' %}
{% load staticfiles %}
{#加载自定义过滤器#}
{% load filter %}
{% block main %}
<div class="col-xs-12 col-sm-9">
    <div class="row">
        <!-- 文章 -->
        <div class="col-xs-12">
            <h3>文章列表</h3>
            <div class="list-group">
                {% for article in articles %}
                    {# 传递路由给article_detail #}
                    <a href="{% url 'article_detail' article.id %}" class="list-group-item"><span class="badge">
                        {#通过length过滤器得到含有html标签的文本长度，#}
                        {#通过striptags得到取出html标签后的文本内容#}
                        {#通用的阅读速度是文章的长度处于300得到的就是阅读的时长#}
                        {{ article.content|striptags|length }}字符，约{{ article.content|striptags|length|spendTime }}分钟</span>
                        {{ article.updated|date:"Y-m-d" }} · <b>{{ article.title }}</b>
                    </a>
                {% endfor %}

            </div>
        </div>
        <div class="col-xs-12">
            <h4>标签云</h4>
            <!-- 随机颜色或者随机字体或者随机颜色与随机字体,color自定义函数 -->
            {% for tag in tags %}
                {#第一个tag是对象，第二个tag是名称#}
                <a style="color:{% color %};font-size:15px;"
                   {#传递名称给article_tag的路由，进行匹配#}
                   href="{% url 'article_tag' tag.tag %}">{{ tag.tag }}</a>
            {% endfor %}


        </div>
        <!-- 分页码，« »，选中class="active"，超过四个同时显示，那么就缩略-->
        <center>
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li class="prev"><a href="/page/1/">«</a></li>
                    <li><a href="/page/2/">2</a></li>
                    <li><a>...</a></li>
                    <li><a href="/page/4/">4</a></li>
                    <li class="next"><a href="https://www.isky.one/page/2/">»</a></li>
                </ul>
            </nav>
        </center>
    </div>
</div>
{% endblock main %}